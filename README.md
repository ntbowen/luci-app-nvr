# Luci App NVR：让你的路由器秒变监控录像机

Luci App NVR 是一款运行在 OpenWrt/iStoreOS 路由器上的轻量级监控管理插件。只要你有摄像头，就能在路由器上实现录像、回看和远程监控，省去购买专用 NVR 录像机的费用。

---

## 🔥 为什么选择它？（核心功能）

* **省钱省心**：直接利用软路由的剩余空间或外挂硬盘进行录像，变废为宝。
* **支持所有摄像头**：只要摄像头支持 RTSP 协议（市面 99% 的品牌都支持），就能接入。
* **全中文界面**：专为中文用户设计，所有操作菜单一看就会。
* **后台自动录像**：基于系统脚本实现，路由器开机即自动开始录制，断电重启无须人工干预。
* **手机远程查看**：深度适配易有云等工具，实现随时随地手机端回看监控录像。

---

## 🌟 项目亮点

* **云端自动构建**：基于 GitHub Actions 实现持续集成，确保每次代码推送均能生成环境一致的生产级安装包。
* **最前沿工具链**：全面适配 OpenWrt **25.12-rc2**，采用官方最新的 **GCC 14.3.0** 编译器和 **musl** 运行时环境。
* **原生 x86_64 优化**：针对 64 位 x86 架构进行指令集优化，充分释放软路由硬件性能。
* **高级格式支持**：自动化工作流原生支持 `.tar.zst` 格式 SDK 的解压与构建。

---


## 📱 进阶：如何实现手机远程查看？

这是本插件最受用户欢迎的功能，只需简单两步：

1. **安装易有云**：在路由器的软件中心找到“易有云 (LinkEase)”并安装绑定。
2. **开启穿透**：通过手机易有云 App 开启内网穿透。
这样你即便身在外地，只要手机有网络，就能随时通过路由器界面查看到 NVR 存储的视频文件。

---

## 📖 摄像头地址填什么？（常用格式大全）

在插件设置里填入对应的地址即可，请将 `admin` 和 `password` 改成你摄像头的实际账号密码：

* **海康威视 (Hikvision)**：`rtsp://admin:密码@IP地址:554/h264/ch1/main/av_stream`
* **大华/乐橙 (Dahua)**：`rtsp://admin:密码@IP地址:554/cam/realmonitor?channel=1&subtype=0`
* **TP-LINK/水星 (Mercury)**：`rtsp://admin:密码@IP地址:554/stream1`
* **小米 (需支持NAS转存功能)**：`rtsp://admin:密码@IP地址:554/live/ch0`
* **通用/其他品牌**：如果说明书没写，通常可尝试 `rtsp://admin:密码@IP地址:554/onvif1`

---

## 📥 改进后：如何获取最新的安装包？

本项目已开启“云端工厂”模式，每当代码更新，GitHub 会自动为你生产成品安装包：

1. 点击网页顶部的 **[Actions]** 选项卡。
2. 在列表中找到最近一次显示 **绿色对勾** 的任务并点击。
3. 滚动到页面底部的 **Artifacts** 区域，下载压缩包。
4. 解压出以 `.ipk` 结尾的文件，在路由器后台“软件包”里上传安装即可。

---

## 🛠 使用小贴士

* **安装建议**：安装前请先点击“刷新列表”或运行 `opkg update`。
* **存储位置**：强烈建议在设置中将录像路径改为外挂硬盘的目录（如 `/mnt/sda1/nvr`），避免占满路由器系统空间。
* **同步提醒**：开发者在修改代码后，请务必执行 `git pull origin main` 以保持本地与云端自动配置一致。

---

**作者：** onchina  
**贡献者：**  Y-A-K-E、 ntbowen  
**特别致谢：** 感谢 OpenWrt 社区及广大监控爱好者的支持与技术参考。
